import requests
import json

def lambda_handler(event, context):

    url = "https://cloud.myscript.com/api/v3.0/recognition/rest/text/doSimpleRecognition.json"

    payload = "------WebKitFormBoundary7MA4YWxkTrZu0gW\r\nContent-Disposition: form-data; name=\"applicationKey\"\r\n\r\n4443cea5-ada7-4d9f-be9b-6d68f530d2e1\r\n------WebKitFormBoundary7MA4YWxkTrZu0gW\r\nContent-Disposition: form-data; name=\"textInput\"\r\n\r\n{\n  \"textParameter\": {\n    \"language\": \"en_US\",\n    \"textInputMode\": \"CURSIVE\",\n    \"subsetKnowledges\": [\"digit\"]\n  },\n  \"inputUnits\": [\n    {\n      \"textInputType\": \"MULTI_LINE_TEXT\",\n      \"components\": [\n        {\n          \"type\": \"stroke\",\n          \"x\": [\n            170,\n            169,\n            161,\n            154,\n            147,\n            142,\n            137,\n            133,\n            131,\n            128,\n            126,\n            123,\n            121,\n            120,\n            119,\n            119,\n            119,\n            119,\n            119,\n            119,\n            119,\n            119,\n            119,\n            120,\n            120,\n            121,\n            122,\n            122,\n            123,\n            123,\n            124,\n            127,\n            129,\n            132,\n            136,\n            140,\n            144,\n            150,\n            154,\n            158,\n            163,\n            165,\n            168,\n            171,\n            173,\n            174,\n            175,\n            175,\n            175,\n            173,\n            169,\n            166,\n            163,\n            161,\n            160,\n            158,\n            157,\n            156,\n            156,\n            156,\n            156,\n            155,\n            155,\n            154,\n            153,\n            152,\n            152,\n            152,\n            151,\n            151,\n            151,\n            150,\n            148,\n            147,\n            147,\n            146\n          ],\n          \"y\": [\n            146,\n            146,\n            146,\n            146,\n            146,\n            146,\n            146,\n            146,\n            147,\n            151,\n            154,\n            159,\n            162,\n            165,\n            167,\n            169,\n            170,\n            172,\n            176,\n            181,\n            189,\n            194,\n            198,\n            202,\n            205,\n            208,\n            210,\n            211,\n            212,\n            213,\n            213,\n            214,\n            215,\n            216,\n            218,\n            219,\n            219,\n            219,\n            218,\n            217,\n            214,\n            212,\n            209,\n            205,\n            203,\n            201,\n            200,\n            199,\n            197,\n            195,\n            192,\n            189,\n            188,\n            186,\n            185,\n            185,\n            185,\n            185,\n            185,\n            185,\n            185,\n            185,\n            185,\n            185,\n            185,\n            185,\n            185,\n            185,\n            185,\n            185,\n            185,\n            185,\n            185,\n            185,\n            185,\n            185\n          ]\n        },\n        {\n          \"type\": \"stroke\",\n          \"x\": [\n            197,\n            197,\n            197,\n            197,\n            197,\n            197,\n            197,\n            197,\n            197,\n            197,\n            198,\n            198,\n            199,\n            200,\n            200,\n            201,\n            202,\n            203,\n            204,\n            206,\n            207,\n            209,\n            211,\n            212,\n            215,\n            218,\n            221,\n            223,\n            226,\n            228,\n            229,\n            230,\n            231,\n            232,\n            233,\n            234,\n            235,\n            236,\n            237,\n            238,\n            238,\n            238,\n            238,\n            238,\n            238,\n            238,\n            238,\n            238,\n            238,\n            238,\n            238,\n            238,\n            238,\n            237,\n            237\n          ],\n          \"y\": [\n            145,\n            149,\n            156,\n            164,\n            170,\n            177,\n            182,\n            190,\n            193,\n            196,\n            198,\n            200,\n            201,\n            202,\n            203,\n            203,\n            205,\n            206,\n            208,\n            210,\n            212,\n            213,\n            214,\n            214,\n            214,\n            214,\n            214,\n            214,\n            213,\n            212,\n            211,\n            209,\n            208,\n            206,\n            203,\n            198,\n            193,\n            185,\n            170,\n            161,\n            151,\n            144,\n            138,\n            134,\n            132,\n            131,\n            130,\n            130,\n            134,\n            140,\n            142,\n            144,\n            144,\n            145,\n            145\n          ]\n        },\n        {\n          \"type\": \"stroke\",\n          \"x\": [\n            283,\n            282,\n            281,\n            280,\n            278,\n            274,\n            272,\n            268,\n            266,\n            264,\n            264,\n            264,\n            264,\n            264,\n            264,\n            262,\n            262,\n            262,\n            262,\n            262,\n            262,\n            263,\n            268,\n            274,\n            280,\n            284,\n            288,\n            290,\n            291,\n            293,\n            293,\n            294,\n            295,\n            297,\n            298,\n            299,\n            299,\n            299,\n            299,\n            299,\n            298,\n            296,\n            293,\n            289,\n            285,\n            283,\n            280,\n            276,\n            272,\n            269,\n            268,\n            267,\n            267,\n            267,\n            267,\n            267\n          ],\n          \"y\": [\n            143,\n            143,\n            143,\n            143,\n            143,\n            147,\n            149,\n            152,\n            154,\n            155,\n            156,\n            156,\n            157,\n            159,\n            162,\n            168,\n            171,\n            174,\n            175,\n            176,\n            176,\n            178,\n            179,\n            180,\n            181,\n            182,\n            183,\n            183,\n            183,\n            184,\n            186,\n            189,\n            194,\n            199,\n            202,\n            205,\n            206,\n            207,\n            207,\n            208,\n            208,\n            209,\n            210,\n            211,\n            213,\n            213,\n            213,\n            213,\n            213,\n            212,\n            211,\n            211,\n            211,\n            211,\n            210,\n            210\n          ]\n        }\n      ]\n    }\n  ]\n}       \"textParameter\":{\n          \"language\":\"en_US\",\n          \"textInputMode\":\"CURSIVE\"\n       },\n       \"inputUnits\":[\n          {\n             \"textInputType\":\"MULTI_LINE_TEXT\",\n             \"components\":[\n                {\n                   \"type\":\"stroke\",\n                   \"x\":[\n                      438,\n                      439,\n                      439\n                   ],\n                   \"y\":[\n                      319.5,\n                      313.5,\n                      312.5\n                   ]\n                }\n             ]\n          }\n       ]\n    }\n\r\n------WebKitFormBoundary7MA4YWxkTrZu0gW--"
    headers = {
    'content-type': "multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW",
    'Content-Type': "application/javascript",
    'Cache-Control': "no-cache",
    }

    response = requests.request("POST", url, data = payload, headers = headers)

    print(response.text)

    return {
    'statusCode': 200,
    'body': json.dumps(response.text)
    }